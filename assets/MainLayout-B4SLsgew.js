import{c as Q,i as j,e as z,l as q,p as P,a as u,h,b as E,g as H,f as K,r as m,j as M,k as S,m as y,w as I,o as N,n as U,q as V,s as A,t as G,u as J,v as _,x as v,y as w}from"./index-D07Ikl8C.js";import{Q as X}from"./QScrollObserver-BZxJi_fX.js";import{Q as R}from"./QResizeObserver-hUIvTEDo.js";import{u as Y}from"./use-quasar-B7Jyjmql.js";import{bus as Z}from"./bus--FKyIfPi.js";const ee=Q({name:"QPageContainer",setup(n,{slots:c}){const{proxy:{$q:r}}=H(),t=j(q,z);if(t===z)return console.error("QPageContainer needs to be child of QLayout"),z;P(K,!0);const d=u(()=>{const l={};return t.header.space===!0&&(l.paddingTop=`${t.header.size}px`),t.right.space===!0&&(l[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${t.right.size}px`),t.footer.space===!0&&(l.paddingBottom=`${t.footer.size}px`),t.left.space===!0&&(l[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${t.left.size}px`),l});return()=>h("div",{class:"q-page-container",style:d.value},E(c.default))}}),te=Q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:n=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(n.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(n,{slots:c,emit:r}){const{proxy:{$q:t}}=H(),d=m(null),l=m(t.screen.height),o=m(n.container===!0?0:t.screen.width),C=m({position:0,direction:"down",inflectionPoint:0}),g=m(0),s=m(M.value===!0?0:S()),T=u(()=>"q-layout q-layout--"+(n.container===!0?"containerized":"standard")),k=u(()=>n.container===!1?{minHeight:t.screen.height+"px"}:null),D=u(()=>s.value!==0?{[t.lang.rtl===!0?"left":"right"]:`${s.value}px`}:null),F=u(()=>s.value!==0?{[t.lang.rtl===!0?"right":"left"]:0,[t.lang.rtl===!0?"left":"right"]:`-${s.value}px`,width:`calc(100% + ${s.value}px)`}:null);function O(e){if(n.container===!0||document.qScrollPrevented!==!0){const a={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};C.value=a,n.onScroll!==void 0&&r("scroll",a)}}function W(e){const{height:a,width:f}=e;let i=!1;l.value!==a&&(i=!0,l.value=a,n.onScrollHeight!==void 0&&r("scrollHeight",a),x()),o.value!==f&&(i=!0,o.value=f),i===!0&&n.onResize!==void 0&&r("resize",e)}function B({height:e}){g.value!==e&&(g.value=e,x())}function x(){if(n.container===!0){const e=l.value>g.value?S():0;s.value!==e&&(s.value=e)}}let p=null;const $={instances:{},view:u(()=>n.view),isContainer:u(()=>n.container),rootRef:d,height:l,containerHeight:g,scrollbarWidth:s,totalWidth:u(()=>o.value+s.value),rows:u(()=>{const e=n.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:y({size:0,offset:0,space:!1}),right:y({size:300,offset:0,space:!1}),footer:y({size:0,offset:0,space:!1}),left:y({size:300,offset:0,space:!1}),scroll:C,animate(){p!==null?clearTimeout(p):document.body.classList.add("q-body--layout-animate"),p=setTimeout(()=>{p=null,document.body.classList.remove("q-body--layout-animate")},155)},update(e,a,f){$[e][a]=f}};if(P(q,$),S()>0){let e=function(){i=null,b.classList.remove("hide-scrollbar")},a=function(){if(i===null){if(b.scrollHeight>t.screen.height)return;b.classList.add("hide-scrollbar")}else clearTimeout(i);i=setTimeout(e,300)},f=function(L){i!==null&&L==="remove"&&(clearTimeout(i),e()),window[`${L}EventListener`]("resize",a)},i=null;const b=document.body;I(()=>n.container!==!0?"add":"remove",f),n.container!==!0&&f("add"),N(()=>{f("remove")})}return()=>{const e=U(c.default,[h(X,{onScroll:O}),h(R,{onResize:W})]),a=h("div",{class:T.value,style:k.value,ref:n.container===!0?void 0:d,tabindex:-1},e);return n.container===!0?h("div",{class:"q-layout-container overflow-hidden",ref:d},[h(R,{onResize:B}),h("div",{class:"absolute-full",style:D.value},[h("div",{class:"scroll",style:F.value},[a])])]):a}}}),re=V({__name:"MainLayout",setup(n){const{screen:c}=Y(),r=m(!1),t=m(!1);return Z.on("drawer",(d,l)=>{const o=l==="left"?r:t;switch(d){case"open":o.value=!0;break;case"close":o.value=!1;break;case"toggle":o.value=!o.value;break}}),(d,l)=>{const o=A("router-view");return G(),J(te,{view:"hHh LpR lFf"},{default:_(()=>[v(o,{mobile:w(c).lt.md,name:"header"},null,8,["mobile"]),v(o,{mobile:w(c).lt.md,"model-value":r.value,name:"leftDrawer"},null,8,["mobile","model-value"]),v(ee,{style:{height:"100vh"}},{default:_(()=>[v(o)]),_:1}),v(o,{mobile:w(c).lt.md,"model-value":t.value,name:"rightDrawer"},null,8,["mobile","model-value"]),v(o,{mobile:w(c).lt.md,name:"footer"},null,8,["mobile"])]),_:1})}}});export{re as default};
