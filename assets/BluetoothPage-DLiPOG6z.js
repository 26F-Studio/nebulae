import{c as ze,h as C,V as yt,W as at,r as B,X as ot,a as h,Y as il,w as me,Z as vt,_ as ul,$ as rl,a0 as Et,z as it,n as sl,g as Oe,a1 as kt,a2 as cl,a3 as dl,a4 as fl,a5 as Hl,a6 as El,a7 as Ll,a8 as $l,J as Ke,a9 as jl,aa as Ce,ab as Ql,ac as vl,ad as Nl,ae as Kl,af as Ul,O as Wl,ag as ml,ah as Xl,ai as Yl,aj as Gl,ak as Lt,al as Jl,am as Zl,an as en,ao as tn,ap as ln,aq as nn,b as an,T as hl,ar as on,as as un,at as we,au as rn,av as sn,aw as cn,ax as $t,ay as je,az as dn,aA as fn,aB as mt,aC as vn,aD as De,aE as mn,aF as hn,aG as gl,aH as gn,aI as bn,R as Sn,q as ut,t as te,u as he,Q as Se,v as _,y as P,x as p,aJ as Fe,N as G,E as Y,U as Ue,L as Ze,G as et,H as pt,I as wt,aK as yn,aL as jt,C as bl,aM as pn,D as ye,M as Qt,aN as wn,aO as Cn,aP as Sl,aQ as zn,K as kn}from"./index-D07Ikl8C.js";import{b as ue,a as He,Q as Ct}from"./QList-BqyV-VWZ.js";import{Q as pe}from"./QItemLabel-DSJgEm51.js";import{u as _n,v as Nt,a as qn,b as Vn,c as On,p as Kt,d as Bn,r as Ut,s as An,Q as In}from"./QTooltip-Cfv7t8yj.js";import{Q as Tn}from"./QPage-CbgxIZsf.js";import{Q as Wt}from"./QResizeObserver-hUIvTEDo.js";import{Q as Mn}from"./QScrollObserver-BZxJi_fX.js";import{b as Qe,T as Xt,n as Yt}from"./format-BAX2mLwj.js";import{r as zt}from"./rtl-DFPa-2ov.js";import{i as _t}from"./common-Bjf4pxll.js";import{u as tt}from"./index-BvT20fcg.js";import{bus as Gt}from"./bus--FKyIfPi.js";import"./selection-DfpBlV27.js";const Pn=ze({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[C("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),C("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),yt(C("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),yt(C("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Jt=["vertical","horizontal"],ht={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Zt={prevent:!0,mouse:!0,mouseAllDir:!0},el=e=>e>=250?50:Math.ceil(e/5),xn=ze({name:"QScrollArea",props:{...at,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:r,emit:o}){const u=B(!1),w=B(!1),i=B(!1),l={vertical:B(0),horizontal:B(0)},n={vertical:{ref:B(null),position:B(0),size:B(0)},horizontal:{ref:B(null),position:B(0),size:B(0)}},{proxy:f}=Oe(),k=ot(e,f.$q);let c=null,S;const b=B(null),q=h(()=>"q-scrollarea"+(k.value===!0?" q-scrollarea--dark":""));Object.assign(l,{verticalInner:h(()=>l.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:h(()=>l.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),n.vertical.percentage=h(()=>{const g=n.vertical.size.value-l.vertical.value;if(g<=0)return 0;const z=Qe(n.vertical.position.value/g,0,1);return Math.round(z*1e4)/1e4}),n.vertical.thumbHidden=h(()=>(e.visible===null?i.value:e.visible)!==!0&&u.value===!1&&w.value===!1||n.vertical.size.value<=l.vertical.value+1),n.vertical.thumbStart=h(()=>e.verticalOffset[0]+n.vertical.percentage.value*(l.verticalInner.value-n.vertical.thumbSize.value)),n.vertical.thumbSize=h(()=>Math.round(Qe(l.verticalInner.value*l.verticalInner.value/n.vertical.size.value,el(l.verticalInner.value),l.verticalInner.value))),n.vertical.style=h(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${n.vertical.thumbStart.value}px`,height:`${n.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),n.vertical.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.vertical.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(n.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),n.horizontal.percentage=h(()=>{const g=n.horizontal.size.value-l.horizontal.value;if(g<=0)return 0;const z=Qe(Math.abs(n.horizontal.position.value)/g,0,1);return Math.round(z*1e4)/1e4}),n.horizontal.thumbHidden=h(()=>(e.visible===null?i.value:e.visible)!==!0&&u.value===!1&&w.value===!1||n.horizontal.size.value<=l.horizontal.value+1),n.horizontal.thumbStart=h(()=>e.horizontalOffset[0]+n.horizontal.percentage.value*(l.horizontalInner.value-n.horizontal.thumbSize.value)),n.horizontal.thumbSize=h(()=>Math.round(Qe(l.horizontalInner.value*l.horizontalInner.value/n.horizontal.size.value,el(l.horizontalInner.value),l.horizontalInner.value))),n.horizontal.style=h(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[f.$q.lang.rtl===!0?"right":"left"]:`${n.horizontal.thumbStart.value}px`,width:`${n.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),n.horizontal.thumbClass=h(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),n.horizontal.barClass=h(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(n.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const T=h(()=>n.vertical.thumbHidden.value===!0&&n.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function x(){const g={};return Jt.forEach(z=>{const A=n[z];Object.assign(g,{[z+"Position"]:A.position.value,[z+"Percentage"]:A.percentage.value,[z+"Size"]:A.size.value,[z+"ContainerSize"]:l[z].value,[z+"ContainerInnerSize"]:l[z+"Inner"].value})}),g}const y=il(()=>{const g=x();g.ref=f,o("scroll",g)},0);function H(g,z,A){if(Jt.includes(g)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(g==="vertical"?Et:vt)(b.value,z,A)}function ne({height:g,width:z}){let A=!1;l.vertical.value!==g&&(l.vertical.value=g,A=!0),l.horizontal.value!==z&&(l.horizontal.value=z,A=!0),A===!0&&U()}function K({position:g}){let z=!1;n.vertical.position.value!==g.top&&(n.vertical.position.value=g.top,z=!0),n.horizontal.position.value!==g.left&&(n.horizontal.position.value=g.left,z=!0),z===!0&&U()}function E({height:g,width:z}){n.horizontal.size.value!==z&&(n.horizontal.size.value=z,U()),n.vertical.size.value!==g&&(n.vertical.size.value=g,U())}function ge(g,z){const A=n[z];if(g.isFirst===!0){if(A.thumbHidden.value===!0)return;S=A.position.value,w.value=!0}else if(w.value!==!0)return;g.isFinal===!0&&(w.value=!1);const ie=ht[z],ee=(A.size.value-l[z].value)/(l[z+"Inner"].value-A.thumbSize.value),Z=g.distance[ie.dist],se=S+(g.direction===ie.dir?1:-1)*Z*ee;ae(se,z)}function L(g,z){const A=n[z];if(A.thumbHidden.value!==!0){const ie=z==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],ee=g[ht[z].offset]-ie,Z=A.thumbStart.value-ie;if(ee<Z||ee>Z+A.thumbSize.value){const se=ee-A.thumbSize.value/2,a=Qe(se/(l[z+"Inner"].value-A.thumbSize.value),0,1);ae(a*Math.max(0,A.size.value-l[z].value),z)}A.ref.value!==null&&A.ref.value.dispatchEvent(new MouseEvent(g.type,g))}}function U(){u.value=!0,c!==null&&clearTimeout(c),c=setTimeout(()=>{c=null,u.value=!1},e.delay),e.onScroll!==void 0&&y()}function ae(g,z){b.value[ht[z].scroll]=g}let J=null;function oe(){J!==null&&clearTimeout(J),J=setTimeout(()=>{J=null,i.value=!0},f.$q.platform.is.ios?50:0)}function be(){J!==null&&(clearTimeout(J),J=null),i.value=!1}let N=null;me(()=>f.$q.lang.rtl,g=>{b.value!==null&&vt(b.value,Math.abs(n.horizontal.position.value)*(g===!0?-1:1))}),ul(()=>{N={top:n.vertical.position.value,left:n.horizontal.position.value}}),rl(()=>{if(N===null)return;const g=b.value;g!==null&&(vt(g,N.left),Et(g,N.top))}),it(y.cancel),Object.assign(f,{getScrollTarget:()=>b.value,getScroll:x,getScrollPosition:()=>({top:n.vertical.position.value,left:n.horizontal.position.value}),getScrollPercentage:()=>({top:n.vertical.percentage.value,left:n.horizontal.percentage.value}),setScrollPosition:H,setScrollPercentage(g,z,A){H(g,z*(n[g].size.value-l[g].value)*(g==="horizontal"&&f.$q.lang.rtl===!0?-1:1),A)}});const re={scroll:n,thumbVertDir:[[Xt,g=>{ge(g,"vertical")},void 0,{vertical:!0,...Zt}]],thumbHorizDir:[[Xt,g=>{ge(g,"horizontal")},void 0,{horizontal:!0,...Zt}]],onVerticalMousedown(g){L(g,"vertical")},onHorizontalMousedown(g){L(g,"horizontal")}};return()=>C("div",{class:q.value,onMouseenter:oe,onMouseleave:be},[C("div",{ref:b,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[C("div",{class:"q-scrollarea__content absolute",style:T.value},sl(r.default,[C(Wt,{debounce:0,onResize:E})])),C(Mn,{axis:"both",onScroll:K})]),C(Wt,{debounce:0,onResize:ne}),C(Pn,{store:re,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Dn=ze({name:"QField",inheritAttrs:!1,props:{...kt,tag:{type:String,default:"label"}},emits:cl,setup(){return dl(fl({tagProp:!0}))}}),Fn={xs:8,sm:10,md:14,lg:20,xl:24},Rn=ze({name:"QChip",props:{...at,...Hl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:o}){const{proxy:{$q:u}}=Oe(),w=ot(e,u),i=El(e,Fn),l=h(()=>e.selected===!0||e.icon!==void 0),n=h(()=>e.selected===!0?e.iconSelected||u.iconSet.chip.selected:e.icon),f=h(()=>e.iconRemove||u.iconSet.chip.remove),k=h(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=h(()=>{const y=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(y?` text-${y} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(k.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(w.value===!0?" q-chip--dark q-dark":"")}),S=h(()=>{const y=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...y,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||u.lang.label.remove};return{chip:y,remove:H}});function b(y){y.keyCode===13&&q(y)}function q(y){e.disable||(o("update:selected",!e.selected),o("click",y))}function T(y){(y.keyCode===void 0||y.keyCode===13)&&(Ce(y),e.disable===!1&&(o("update:modelValue",!1),o("remove")))}function x(){const y=[];k.value===!0&&y.push(C("div",{class:"q-focus-helper"})),l.value===!0&&y.push(C(Ke,{class:"q-chip__icon q-chip__icon--left",name:n.value}));const H=e.label!==void 0?[C("div",{class:"ellipsis"},[e.label])]:void 0;return y.push(C("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},jl(r.default,H))),e.iconRight&&y.push(C(Ke,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&y.push(C(Ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:f.value,...S.value.remove,onClick:T,onKeyup:T})),y}return()=>{if(e.modelValue===!1)return;const y={class:c.value,style:i.value};return k.value===!0&&Object.assign(y,S.value.chip,{onClick:q,onKeyup:b}),Ll("div",y,x(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[$l,e.ripple]])}}}),Hn=ze({name:"QMenu",inheritAttrs:!1,props:{..._n,...Ql,...at,...vl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Nt},self:{type:String,validator:Nt},offset:{type:Array,validator:qn},scrollTarget:Nl,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Kl,"click","escapeKey"],setup(e,{slots:r,emit:o,attrs:u}){let w=null,i,l,n;const f=Oe(),{proxy:k}=f,{$q:c}=k,S=B(null),b=B(!1),q=h(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),T=ot(e,c),{registerTick:x,removeTick:y}=Ul(),{registerTimeout:H}=Wl(),{transitionProps:ne,transitionStyle:K}=ml(e),{localScrollTarget:E,changeScrollEvent:ge,unconfigureScrollTarget:L}=Vn(e,O),{anchorEl:U,canShow:ae}=On({showing:b}),{hide:J}=Xl({showing:b,canShow:ae,handleShow:se,handleHide:a,hideOnRouteChange:q,processOnMount:!0}),{showPortal:oe,hidePortal:be,renderPortal:N}=Yl(f,S,j,"menu"),re={anchorEl:U,innerRef:S,onClickOutside(s){if(e.persistent!==!0&&b.value===!0)return J(s),(s.type==="touchstart"||s.target.classList.contains("q-dialog__backdrop"))&&Ce(s),!0}},g=h(()=>Kt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),z=h(()=>e.cover===!0?g.value:Kt(e.self||"top start",c.lang.rtl)),A=h(()=>(e.square===!0?" q-menu--square":"")+(T.value===!0?" q-menu--dark q-dark":"")),ie=h(()=>e.autoClose===!0?{onClick:D}:{}),ee=h(()=>b.value===!0&&e.persistent!==!0);me(ee,s=>{s===!0?(Gl(M),Bn(re)):(Lt(M),Ut(re))});function Z(){on(()=>{let s=S.value;s&&s.contains(document.activeElement)!==!0&&(s=s.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.querySelector("[autofocus], [data-autofocus]")||s,s.focus({preventScroll:!0}))})}function se(s){if(w=e.noRefocus===!1?document.activeElement:null,Jl($),oe(),O(),i=void 0,s!==void 0&&(e.touchPosition||e.contextMenu)){const W=Zl(s);if(W.left!==void 0){const{top:de,left:Be}=U.value.getBoundingClientRect();i={left:W.left-Be,top:W.top-de}}}l===void 0&&(l=me(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,V)),e.noFocus!==!0&&document.activeElement.blur(),x(()=>{V(),e.noFocus!==!0&&Z()}),H(()=>{c.platform.is.ios===!0&&(n=e.autoClose,S.value.click()),V(),oe(!0),o("show",s)},e.transitionDuration)}function a(s){y(),be(),d(!0),w!==null&&(s===void 0||s.qClickOutside!==!0)&&(((s&&s.type.indexOf("key")===0?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),H(()=>{be(!0),o("hide",s)},e.transitionDuration)}function d(s){i=void 0,l!==void 0&&(l(),l=void 0),(s===!0||b.value===!0)&&(en($),L(),Ut(re),Lt(M)),s!==!0&&(w=null)}function O(){(U.value!==null||e.scrollTarget!==void 0)&&(E.value=tn(U.value,e.scrollTarget),ge(E.value,V))}function D(s){n!==!0?(ln(k,s),o("click",s)):n=!1}function $(s){ee.value===!0&&e.noFocus!==!0&&nn(S.value,s.target)!==!0&&Z()}function M(s){o("escapeKey"),J(s)}function V(){An({targetEl:S.value,offset:e.offset,anchorEl:U.value,anchorOrigin:g.value,selfOrigin:z.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function j(){return C(hl,ne.value,()=>b.value===!0?C("div",{role:"menu",...u,ref:S,tabindex:-1,class:["q-menu q-position-engine scroll"+A.value,u.class],style:[u.style,K.value],...ie.value},an(r.default)):null)}return it(d),Object.assign(k,{focus:Z,updatePosition:V}),N}}),ce=1e3,En=["start","center","end","start-force","center-force","end-force"],yl=Array.prototype.filter,Ln=window.getComputedStyle(document.body).overflowAnchor===void 0?un:function(e,r){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const o=e.children||[];yl.call(o,w=>w.dataset&&w.dataset.qVsAnchor!==void 0).forEach(w=>{delete w.dataset.qVsAnchor});const u=o[r];u&&u.dataset&&(u.dataset.qVsAnchor="")}))};function Re(e,r){return e+r}function gt(e,r,o,u,w,i,l,n){const f=e===window?document.scrollingElement||document.documentElement:e,k=w===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-l-n,scrollMaxSize:0,offsetStart:-l,offsetEnd:-n};if(w===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=f.scrollLeft,c.scrollViewSize+=f.clientWidth),c.scrollMaxSize=f.scrollWidth,i===!0&&(c.scrollStart=(zt===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=f.scrollTop,c.scrollViewSize+=f.clientHeight),c.scrollMaxSize=f.scrollHeight),o!==null)for(let S=o.previousElementSibling;S!==null;S=S.previousElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=S[k]);if(u!==null)for(let S=u.nextElementSibling;S!==null;S=S.nextElementSibling)S.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=S[k]);if(r!==e){const S=f.getBoundingClientRect(),b=r.getBoundingClientRect();w===!0?(c.offsetStart+=b.left-S.left,c.offsetEnd-=b.width):(c.offsetStart+=b.top-S.top,c.offsetEnd-=b.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function tl(e,r,o,u){r==="end"&&(r=(e===window?document.body:e)[o===!0?"scrollWidth":"scrollHeight"]),e===window?o===!0?(u===!0&&(r=(zt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-r),window.scrollTo(r,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r):o===!0?(u===!0&&(r=(zt===!0?e.scrollWidth-e.offsetWidth:0)-r),e.scrollLeft=r):e.scrollTop=r}function Ne(e,r,o,u){if(o>=u)return 0;const w=r.length,i=Math.floor(o/ce),l=Math.floor((u-1)/ce)+1;let n=e.slice(i,l).reduce(Re,0);return o%ce!==0&&(n-=r.slice(i*ce,o).reduce(Re,0)),u%ce!==0&&u!==w&&(n-=r.slice(u,l*ce).reduce(Re,0)),n}const $n={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},ll={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...$n};function jn({virtualScrollLength:e,getVirtualScrollTarget:r,getVirtualScrollEl:o,virtualScrollItemSizeComputed:u}){const w=Oe(),{props:i,emit:l,proxy:n}=w,{$q:f}=n;let k,c,S,b=[],q;const T=B(0),x=B(0),y=B({}),H=B(null),ne=B(null),K=B(null),E=B({from:0,to:0}),ge=h(()=>i.tableColspan!==void 0?i.tableColspan:100);u===void 0&&(u=h(()=>i.virtualScrollItemSize));const L=h(()=>u.value+";"+i.virtualScrollHorizontal),U=h(()=>L.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);me(U,()=>{A()}),me(L,ae);function ae(){z(c,!0)}function J(a){z(a===void 0?c:a)}function oe(a,d){const O=r();if(O==null||O.nodeType===8)return;const D=gt(O,o(),H.value,ne.value,i.virtualScrollHorizontal,f.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);S!==D.scrollViewSize&&A(D.scrollViewSize),N(O,D,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,En.indexOf(d)!==-1?d:c!==-1&&a>c?"end":"start")}function be(){const a=r();if(a==null||a.nodeType===8)return;const d=gt(a,o(),H.value,ne.value,i.virtualScrollHorizontal,f.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),O=e.value-1,D=d.scrollMaxSize-d.offsetStart-d.offsetEnd-x.value;if(k===d.scrollStart)return;if(d.scrollMaxSize<=0){N(a,d,0,0);return}S!==d.scrollViewSize&&A(d.scrollViewSize),re(E.value.from);const $=Math.floor(d.scrollMaxSize-Math.max(d.scrollViewSize,d.offsetEnd)-Math.min(q[O],d.scrollViewSize/2));if($>0&&Math.ceil(d.scrollStart)>=$){N(a,d,O,d.scrollMaxSize-d.offsetEnd-b.reduce(Re,0));return}let M=0,V=d.scrollStart-d.offsetStart,j=V;if(V<=D&&V+d.scrollViewSize>=T.value)V-=T.value,M=E.value.from,j=V;else for(let s=0;V>=b[s]&&M<O;s++)V-=b[s],M+=ce;for(;V>0&&M<O;)V-=q[M],V>-d.scrollViewSize?(M++,j=V):j=q[M]+V;N(a,d,M,j)}function N(a,d,O,D,$){const M=typeof $=="string"&&$.indexOf("-force")!==-1,V=M===!0?$.replace("-force",""):$,j=V!==void 0?V:"start";let s=Math.max(0,O-y.value[j]),W=s+y.value.total;W>e.value&&(W=e.value,s=Math.max(0,W-y.value.total)),k=d.scrollStart;const de=s!==E.value.from||W!==E.value.to;if(de===!1&&V===void 0){ee(O);return}const{activeElement:Be}=document,fe=K.value;de===!0&&fe!==null&&fe!==Be&&fe.contains(Be)===!0&&(fe.addEventListener("focusout",g),setTimeout(()=>{fe!==null&&fe.removeEventListener("focusout",g)})),Ln(fe,O-s);const We=V!==void 0?q.slice(s,O).reduce(Re,0):0;if(de===!0){const ke=W>=E.value.from&&s<=E.value.to?E.value.to:W;E.value={from:s,to:ke},T.value=Ne(b,q,0,s),x.value=Ne(b,q,W,e.value),requestAnimationFrame(()=>{E.value.to!==W&&k===d.scrollStart&&(E.value={from:E.value.from,to:W},x.value=Ne(b,q,W,e.value))})}requestAnimationFrame(()=>{if(k!==d.scrollStart)return;de===!0&&re(s);const ke=q.slice(s,O).reduce(Re,0),_e=ke+d.offsetStart+T.value,Xe=_e+q[O];let Ee=_e+D;if(V!==void 0){const rt=ke-We,Le=d.scrollStart+rt;Ee=M!==!0&&Le<_e&&Xe<Le+d.scrollViewSize?Le:V==="end"?Xe-d.scrollViewSize:_e-(V==="start"?0:Math.round((d.scrollViewSize-q[O])/2))}k=Ee,tl(a,Ee,i.virtualScrollHorizontal,f.lang.rtl),ee(O)})}function re(a){const d=K.value;if(d){const O=yl.call(d.children,s=>s.classList&&s.classList.contains("q-virtual-scroll--skip")===!1),D=O.length,$=i.virtualScrollHorizontal===!0?s=>s.getBoundingClientRect().width:s=>s.offsetHeight;let M=a,V,j;for(let s=0;s<D;){for(V=$(O[s]),s++;s<D&&O[s].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=$(O[s]),s++;j=V-q[M],j!==0&&(q[M]+=j,b[Math.floor(M/ce)]+=j),M++}}}function g(){K.value!==null&&K.value!==void 0&&K.value.focus()}function z(a,d){const O=1*u.value;(d===!0||Array.isArray(q)===!1)&&(q=[]);const D=q.length;q.length=e.value;for(let M=e.value-1;M>=D;M--)q[M]=O;const $=Math.floor((e.value-1)/ce);b=[];for(let M=0;M<=$;M++){let V=0;const j=Math.min((M+1)*ce,e.value);for(let s=M*ce;s<j;s++)V+=q[s];b.push(V)}c=-1,k=void 0,T.value=Ne(b,q,0,E.value.from),x.value=Ne(b,q,E.value.to,e.value),a>=0?(re(E.value.from),we(()=>{oe(a)})):Z()}function A(a){if(a===void 0&&typeof window<"u"){const V=r();V!=null&&V.nodeType!==8&&(a=gt(V,o(),H.value,ne.value,i.virtualScrollHorizontal,f.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}S=a;const d=parseFloat(i.virtualScrollSliceRatioBefore)||0,O=parseFloat(i.virtualScrollSliceRatioAfter)||0,D=1+d+O,$=a===void 0||a<=0?1:Math.ceil(a/u.value),M=Math.max(1,$,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/D));y.value={total:Math.ceil(M*D),start:Math.ceil(M*d),center:Math.ceil(M*(.5+d)),end:Math.ceil(M*(1+d)),view:$}}function ie(a,d){const O=i.virtualScrollHorizontal===!0?"width":"height",D={["--q-virtual-scroll-item-"+O]:u.value+"px"};return[a==="tbody"?C(a,{class:"q-virtual-scroll__padding",key:"before",ref:H},[C("tr",[C("td",{style:{[O]:`${T.value}px`,...D},colspan:ge.value})])]):C(a,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[O]:`${T.value}px`,...D}}),C(a,{class:"q-virtual-scroll__content",key:"content",ref:K,tabindex:-1},d.flat()),a==="tbody"?C(a,{class:"q-virtual-scroll__padding",key:"after",ref:ne},[C("tr",[C("td",{style:{[O]:`${x.value}px`,...D},colspan:ge.value})])]):C(a,{class:"q-virtual-scroll__padding",key:"after",ref:ne,style:{[O]:`${x.value}px`,...D}})]}function ee(a){c!==a&&(i.onVirtualScroll!==void 0&&l("virtualScroll",{index:a,from:E.value.from,to:E.value.to-1,direction:a<c?"decrease":"increase",ref:n}),c=a)}A();const Z=il(be,f.platform.is.ios===!0?120:35);rn(()=>{A()});let se=!1;return ul(()=>{se=!0}),rl(()=>{if(se!==!0)return;const a=r();k!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?tl(a,k,i.virtualScrollHorizontal,f.lang.rtl):oe(c)}),it(()=>{Z.cancel()}),Object.assign(n,{scrollTo:oe,reset:ae,refresh:J}),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:y,setVirtualScrollSize:A,onVirtualScrollEvt:Z,localResetVirtualScroll:z,padVirtualScroll:ie,scrollTo:oe,reset:ae,refresh:J}}const nl=e=>["add","add-unique","toggle"].includes(e),Qn=".*+?^${}()|[]\\",Nn=Object.keys(kt);function bt(e,r){if(typeof e=="function")return e;const o=e!==void 0?e:r;return u=>u!==null&&typeof u=="object"&&o in u?u[o]:u}const al=ze({name:"QSelect",inheritAttrs:!1,props:{...ll,...sn,...kt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:nl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:ll.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...cl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:r,emit:o}){const{proxy:u}=Oe(),{$q:w}=u,i=B(!1),l=B(!1),n=B(-1),f=B(""),k=B(!1),c=B(!1);let S=null,b=null,q,T,x,y=null,H,ne,K,E;const ge=B(null),L=B(null),U=B(null),ae=B(null),J=B(null),oe=cn(e),be=vn(xt),N=h(()=>Array.isArray(e.options)?e.options.length:0),re=h(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:g,virtualScrollSliceSizeComputed:z,localResetVirtualScroll:A,padVirtualScroll:ie,onVirtualScrollEvt:ee,scrollTo:Z,setVirtualScrollSize:se}=jn({virtualScrollLength:N,getVirtualScrollTarget:ql,getVirtualScrollEl:Mt,virtualScrollItemSizeComputed:re}),a=fl(),d=h(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,v=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const m=e.mapOptions===!0&&q!==void 0?q:[],I=v.map(R=>_l(R,m));return e.modelValue===null&&t===!0?I.filter(R=>R!==null):I}return v}),O=h(()=>{const t={};return Nn.forEach(v=>{const m=e[v];m!==void 0&&(t[v]=m)}),t}),D=h(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),$=h(()=>$t(d.value)),M=h(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||d.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),V=h(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),j=h(()=>N.value===0),s=h(()=>d.value.map(t=>le.value(t)).join(", ")),W=h(()=>e.displayValue!==void 0?e.displayValue:s.value),de=h(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),Be=h(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||d.value.some(de.value))),fe=h(()=>a.focused.value===!0?e.tabindex:-1),We=h(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${a.targetUid.value}_lb`};return n.value>=0&&(t["aria-activedescendant"]=`${a.targetUid.value}_${n.value}`),t}),ke=h(()=>({id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),_e=h(()=>d.value.map((t,v)=>({index:v,opt:t,html:de.value(t),selected:!0,removeAtIndex:kl,toggleOption:qe,tabindex:fe.value}))),Xe=h(()=>{if(N.value===0)return[];const{from:t,to:v}=g.value;return e.options.slice(t,v).map((m,I)=>{const R=Ae.value(m)===!0,F=ct(m)===!0,X=t+I,Q={clickable:!0,active:F,activeClass:Le.value,manualFocus:!0,focused:!1,disable:R,tabindex:-1,dense:e.optionsDense,dark:D.value,role:"option","aria-selected":F===!0?"true":"false",id:`${a.targetUid.value}_${X}`,onClick:()=>{qe(m)}};return R!==!0&&(n.value===X&&(Q.focused=!0),w.platform.is.desktop===!0&&(Q.onMousemove=()=>{i.value===!0&&Ie(X)})),{index:X,opt:m,html:de.value(m),label:le.value(m),selected:Q.active,focused:Q.focused,toggleOption:qe,setOptionIndex:Ie,itemProps:Q}})}),Ee=h(()=>e.dropdownIcon!==void 0?e.dropdownIcon:w.iconSet.arrow.dropdown),rt=h(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Le=h(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ve=h(()=>bt(e.optionValue,"value")),le=h(()=>bt(e.optionLabel,"label")),Ae=h(()=>bt(e.optionDisable,"disable")),Ye=h(()=>d.value.map(ve.value)),zl=h(()=>{const t={onInput:xt,onChange:be,onKeydown:Tt,onKeyup:At,onKeypress:It,onFocus:Ot,onClick(v){T===!0&&De(v)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=be,t});me(d,t=>{q=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(l.value!==!0&&i.value!==!0||$.value!==!0)&&(x!==!0&&xe(),(l.value===!0||i.value===!0)&&Te(""))},{immediate:!0}),me(()=>e.fillInput,xe),me(i,dt),me(N,Rl);function qt(t){return e.emitValue===!0?ve.value(t):t}function st(t){if(t!==-1&&t<d.value.length)if(e.multiple===!0){const v=e.modelValue.slice();o("remove",{index:t,value:v.splice(t,1)[0]}),o("update:modelValue",v)}else o("update:modelValue",null)}function kl(t){st(t),a.focus()}function Vt(t,v){const m=qt(t);if(e.multiple!==!0){e.fillInput===!0&&$e(le.value(t),!0,!0),o("update:modelValue",m);return}if(d.value.length===0){o("add",{index:0,value:m}),o("update:modelValue",e.multiple===!0?[m]:m);return}if(v===!0&&ct(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const I=e.modelValue.slice();o("add",{index:I.length,value:m}),I.push(m),o("update:modelValue",I)}function qe(t,v){if(a.editable.value!==!0||t===void 0||Ae.value(t)===!0)return;const m=ve.value(t);if(e.multiple!==!0){v!==!0&&($e(e.fillInput===!0?le.value(t):"",!0,!0),Ve()),L.value!==null&&L.value.focus(),(d.value.length===0||je(ve.value(d.value[0]),m)!==!0)&&o("update:modelValue",e.emitValue===!0?m:t);return}if((T!==!0||k.value===!0)&&a.focus(),Ot(),d.value.length===0){const F=e.emitValue===!0?m:t;o("add",{index:0,value:F}),o("update:modelValue",e.multiple===!0?[F]:F);return}const I=e.modelValue.slice(),R=Ye.value.findIndex(F=>je(F,m));if(R!==-1)o("remove",{index:R,value:I.splice(R,1)[0]});else{if(e.maxValues!==void 0&&I.length>=e.maxValues)return;const F=e.emitValue===!0?m:t;o("add",{index:I.length,value:F}),I.push(F)}o("update:modelValue",I)}function Ie(t){if(w.platform.is.desktop!==!0)return;const v=t!==-1&&t<N.value?t:-1;n.value!==v&&(n.value=v)}function Ge(t=1,v){if(i.value===!0){let m=n.value;do m=Yt(m+t,-1,N.value-1);while(m!==-1&&m!==n.value&&Ae.value(e.options[m])===!0);n.value!==m&&(Ie(m),Z(m),v!==!0&&e.useInput===!0&&e.fillInput===!0&&Je(m>=0?le.value(e.options[m]):H,!0))}}function _l(t,v){const m=I=>je(ve.value(I),t);return e.options.find(m)||v.find(m)||t}function ct(t){const v=ve.value(t);return Ye.value.find(m=>je(m,v))!==void 0}function Ot(t){e.useInput===!0&&L.value!==null&&(t===void 0||L.value===t.target&&t.target.value===s.value)&&L.value.select()}function Bt(t){mn(t,27)===!0&&i.value===!0&&(De(t),Ve(),xe()),o("keyup",t)}function At(t){const{value:v}=t.target;if(t.keyCode!==void 0){Bt(t);return}if(t.target.value="",S!==null&&(clearTimeout(S),S=null),b!==null&&(clearTimeout(b),b=null),xe(),typeof v=="string"&&v.length!==0){const m=v.toLocaleLowerCase(),I=F=>{const X=e.options.find(Q=>String(F.value(Q)).toLocaleLowerCase()===m);return X===void 0?!1:(d.value.indexOf(X)===-1?qe(X):Ve(),!0)},R=F=>{I(ve)!==!0&&F!==!0&&I(le)!==!0&&Te(v,!0,()=>R(!0))};R()}else a.clearValue(t)}function It(t){o("keypress",t)}function Tt(t){if(o("keydown",t),hn(t)===!0)return;const v=f.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),m=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(n.value!==-1||v===!0);if(t.keyCode===27){mt(t);return}if(t.keyCode===9&&m===!1){Me();return}if(t.target===void 0||t.target.id!==a.targetUid.value||a.editable.value!==!0)return;if(t.keyCode===40&&a.innerLoading.value!==!0&&i.value===!1){Ce(t),Pe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&f.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?st(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&o("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof f.value!="string"||f.value.length===0)&&(Ce(t),n.value=-1,Ge(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&z.value!==void 0&&(Ce(t),n.value=Math.max(-1,Math.min(N.value,n.value+(t.keyCode===33?-1:1)*z.value.view)),Ge(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ce(t),Ge(t.keyCode===38?-1:1,e.multiple));const I=N.value;if((K===void 0||E<Date.now())&&(K=""),I>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||K.length!==0)){i.value!==!0&&Pe(t);const R=t.key.toLocaleLowerCase(),F=K.length===1&&K[0]===R;E=Date.now()+1500,F===!1&&(Ce(t),K+=R);const X=new RegExp("^"+K.split("").map(ft=>Qn.indexOf(ft)!==-1?"\\"+ft:ft).join(".*"),"i");let Q=n.value;if(F===!0||Q<0||X.test(le.value(e.options[Q]))!==!0)do Q=Yt(Q+1,-1,I-1);while(Q!==n.value&&(Ae.value(e.options[Q])===!0||X.test(le.value(e.options[Q]))!==!0));n.value!==Q&&we(()=>{Ie(Q),Z(Q),Q>=0&&e.useInput===!0&&e.fillInput===!0&&Je(le.value(e.options[Q]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||K!=="")&&(t.keyCode!==9||m===!1))){if(t.keyCode!==9&&Ce(t),n.value!==-1&&n.value<I){qe(e.options[n.value]);return}if(v===!0){const R=(F,X)=>{if(X){if(nl(X)!==!0)return}else X=e.newValueMode;if($e("",e.multiple!==!0,!0),F==null)return;(X==="toggle"?qe:Vt)(F,X==="add-unique"),e.multiple!==!0&&(L.value!==null&&L.value.focus(),Ve())};if(e.onNewValue!==void 0?o("newValue",f.value,R):R(f.value),e.multiple!==!0)return}i.value===!0?Me():a.innerLoading.value!==!0&&Pe()}}function Mt(){return T===!0?J.value:U.value!==null&&U.value.contentEl!==null?U.value.contentEl:void 0}function ql(){return Mt()}function Vl(){return e.hideSelected===!0?[]:r["selected-item"]!==void 0?_e.value.map(t=>r["selected-item"](t)).slice():r.selected!==void 0?[].concat(r.selected()):e.useChips===!0?_e.value.map((t,v)=>C(Rn,{key:"option-"+v,removable:a.editable.value===!0&&Ae.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:fe.value,onRemove(){t.removeAtIndex(v)}},()=>C("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:le.value(t.opt)}))):[C("span",{[Be.value===!0?"innerHTML":"textContent"]:W.value})]}function Pt(){if(j.value===!0)return r["no-option"]!==void 0?r["no-option"]({inputValue:f.value}):void 0;const t=r.option!==void 0?r.option:m=>C(He,{key:m.index,...m.itemProps},()=>C(ue,()=>C(pe,()=>C("span",{[m.html===!0?"innerHTML":"textContent"]:m.label}))));let v=ie("div",Xe.value.map(t));return r["before-options"]!==void 0&&(v=r["before-options"]().concat(v)),sl(r["after-options"],v)}function Ol(t,v){const m=v===!0?{...We.value,...a.splitAttrs.attributes.value}:void 0,I={ref:v===!0?L:void 0,key:"i_t",class:M.value,style:e.inputStyle,value:f.value!==void 0?f.value:"",type:"search",...m,id:v===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...zl.value};return t!==!0&&T===!0&&(Array.isArray(I.class)===!0?I.class=[...I.class,"no-pointer-events"]:I.class+=" no-pointer-events"),C("input",I)}function xt(t){S!==null&&(clearTimeout(S),S=null),b!==null&&(clearTimeout(b),b=null),!(t&&t.target&&t.target.qComposing===!0)&&(Je(t.target.value||""),x=!0,H=f.value,a.focused.value!==!0&&(T!==!0||k.value===!0)&&a.focus(),e.onFilter!==void 0&&(S=setTimeout(()=>{S=null,Te(f.value)},e.inputDebounce)))}function Je(t,v){f.value!==t&&(f.value=t,v===!0||e.inputDebounce===0||e.inputDebounce==="0"?o("inputValue",t):b=setTimeout(()=>{b=null,o("inputValue",t)},e.inputDebounce))}function $e(t,v,m){x=m!==!0,e.useInput===!0&&(Je(t,!0),(v===!0||m!==!0)&&(H=t),v!==!0&&Te(t))}function Te(t,v,m){if(e.onFilter===void 0||v!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?o("filterAbort"):(a.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&d.value.length!==0&&x!==!0&&t===le.value(d.value[0])&&(t="");const I=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);y!==null&&clearTimeout(y),y=I,o("filter",t,(R,F)=>{(v===!0||a.focused.value===!0)&&y===I&&(clearTimeout(y),typeof R=="function"&&R(),c.value=!1,we(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(v===!0?i.value===!0&&Ve():i.value===!0?dt(!0):i.value=!0),typeof F=="function"&&we(()=>{F(u)}),typeof m=="function"&&we(()=>{m(u)})}))},()=>{a.focused.value===!0&&y===I&&(clearTimeout(y),a.innerLoading.value=!1,c.value=!1),i.value===!0&&(i.value=!1)})}function Bl(){return C(Hn,{ref:U,class:V.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&j.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:D.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:rt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ke.value,onScrollPassive:ee,onBeforeShow:Ft,onBeforeHide:Al,onShow:Il},Pt)}function Al(t){Rt(t),Me()}function Il(){se()}function Tl(t){De(t),L.value!==null&&L.value.focus(),k.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Ml(t){De(t),we(()=>{k.value=!1})}function Pl(){const t=[C(Dn,{class:`col-auto ${a.fieldClass.value}`,...O.value,for:a.targetUid.value,dark:D.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:f.value.length!==0,...a.splitAttrs.listeners.value,onFocus:Tl,onBlur:Ml},{...r,rawControl:()=>a.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&t.push(C("div",{ref:J,class:V.value+" scroll",style:e.popupContentStyle,...ke.value,onClick:mt,onScrollPassive:ee},Pt())),C(gl,{ref:ae,modelValue:l.value,position:e.useInput===!0?"top":void 0,transitionShow:ne,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Ft,onBeforeHide:xl,onHide:Dl,onShow:Fl},()=>C("div",{class:"q-select__dialog"+(D.value===!0?" q-select__dialog--dark q-dark":"")+(k.value===!0?" q-select__dialog--focused":"")},t))}function xl(t){Rt(t),ae.value!==null&&ae.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function Dl(t){Ve(),a.focused.value===!1&&o("blur",t),xe()}function Fl(){const t=document.activeElement;(t===null||t.id!==a.targetUid.value)&&L.value!==null&&L.value!==t&&L.value.focus(),se()}function Me(){l.value!==!0&&(n.value=-1,i.value===!0&&(i.value=!1),a.focused.value===!1&&(y!==null&&(clearTimeout(y),y=null),a.innerLoading.value===!0&&(o("filterAbort"),a.innerLoading.value=!1,c.value=!1)))}function Pe(t){a.editable.value===!0&&(T===!0?(a.onControlFocusin(t),l.value=!0,we(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?Te(f.value):(j.value!==!0||r["no-option"]!==void 0)&&(i.value=!0))}function Ve(){l.value=!1,Me()}function xe(){e.useInput===!0&&$e(e.multiple!==!0&&e.fillInput===!0&&d.value.length!==0&&le.value(d.value[0])||"",!0,!0)}function dt(t){let v=-1;if(t===!0){if(d.value.length!==0){const m=ve.value(d.value[0]);v=e.options.findIndex(I=>je(ve.value(I),m))}A(v)}Ie(v)}function Rl(t,v){i.value===!0&&a.innerLoading.value===!1&&(A(-1,!0),we(()=>{i.value===!0&&a.innerLoading.value===!1&&(t>v?A():dt(!0))}))}function Dt(){l.value===!1&&U.value!==null&&U.value.updatePosition()}function Ft(t){t!==void 0&&De(t),o("popupShow",t),a.hasPopupOpen=!0,a.onControlFocusin(t)}function Rt(t){t!==void 0&&De(t),o("popupHide",t),a.hasPopupOpen=!1,a.onControlFocusout(t)}function Ht(){T=w.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?r["no-option"]!==void 0||e.onFilter!==void 0||j.value===!1:!0),ne=w.platform.is.ios===!0&&T===!0&&e.useInput===!0?"fade":e.transitionShow}return dn(Ht),fn(Dt),Ht(),it(()=>{S!==null&&clearTimeout(S),b!==null&&clearTimeout(b)}),Object.assign(u,{showPopup:Pe,hidePopup:Ve,removeAtIndex:st,add:Vt,toggleOption:qe,getOptionIndex:()=>n.value,setOptionIndex:Ie,moveOptionSelection:Ge,filter:Te,updateMenuPosition:Dt,updateInputValue:$e,isOptionSelected:ct,getEmittingOptionValue:qt,isOptionDisabled:(...t)=>Ae.value.apply(null,t)===!0,getOptionValue:(...t)=>ve.value.apply(null,t),getOptionLabel:(...t)=>le.value.apply(null,t)}),Object.assign(a,{innerValue:d,fieldClass:h(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ge,targetRef:L,hasValue:$,showPopup:Pe,floatingLabel:h(()=>e.hideSelected!==!0&&$.value===!0||typeof f.value=="number"||f.value.length!==0||$t(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(l.value===!0||j.value!==!0||r["no-option"]!==void 0))return T===!0?Pl():Bl();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(t){a.onControlFocusin(t)},onFocusout(t){a.onControlFocusout(t,()=>{xe(),Me()})},onClick(t){if(mt(t),T!==!0&&i.value===!0){Me(),L.value!==null&&L.value.focus();return}Pe(t)}},getControl:t=>{const v=Vl(),m=t===!0||l.value!==!0||T!==!0;if(e.useInput===!0)v.push(Ol(t,m));else if(a.editable.value===!0){const R=m===!0?We.value:void 0;v.push(C("input",{ref:m===!0?L:void 0,key:"d_t",class:"q-select__focus-target",id:m===!0?a.targetUid.value:void 0,value:W.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...R,onKeydown:Tt,onKeyup:Bt,onKeypress:It})),m===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&v.push(C("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:At}))}if(oe.value!==void 0&&e.disable!==!0&&Ye.value.length!==0){const R=Ye.value.map(F=>C("option",{value:F,selected:!0}));v.push(C("select",{class:"hidden",name:oe.value,multiple:e.multiple},R))}const I=e.useInput===!0||m!==!0?void 0:a.splitAttrs.attributes.value;return C("div",{class:"q-field__native row items-center",...I,...a.splitAttrs.listeners.value},v)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[C(Ke,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ee.value})]:null}),dl(a)}}),Kn='<g transform="scale(0.55)"><circle cx="30" cy="150" r="30" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></circle><path d="M90,150h30c0-49.7-40.3-90-90-90v30C63.1,90,90,116.9,90,150z" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0.1" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></path><path d="M150,150h30C180,67.2,112.8,0,30,0v30C96.3,30,150,83.7,150,150z" fill="currentColor"><animate attributeName="opacity" from="0" to="1" dur="1s" begin="0.2" repeatCount="indefinite" keyTimes="0;0.5;1" values="0;1;1"></animate></path></g>',Un=ze({name:"QSpinnerRadio",props:gn,setup(e){const{cSize:r,classes:o}=bn(e);return()=>C("svg",{class:o.value,width:r.value,height:r.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:Kn})}}),Wn=ze({name:"QInnerLoading",props:{...at,...vl,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(e,{slots:r}){const o=Oe(),u=ot(e,o.proxy.$q),{transitionProps:w,transitionStyle:i}=ml(e),l=h(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(u.value===!0?" q-inner-loading--dark":"")),n=h(()=>"q-inner-loading__label"+(e.labelClass!==void 0?` ${e.labelClass}`:""));function f(){const c=[C(Sn,{size:e.size,color:e.color})];return e.label!==void 0&&c.push(C("div",{class:n.value,style:e.labelStyle},[e.label])),c}function k(){return e.showing===!0?C("div",{class:l.value,style:i.value},r.default!==void 0?r.default():f()):null}return()=>C(hl,w.value,k)}}),Xn=Object.prototype.toString,St=Object.prototype.hasOwnProperty,Yn=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function ol(e){if(e!==Object(e)||Yn.has(Xn.call(e))===!0||e.constructor&&St.call(e,"constructor")===!1&&St.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let r;for(r in e);return r===void 0||St.call(e,r)}function pl(){let e,r,o,u,w,i,l=arguments[0]||{},n=1,f=!1;const k=arguments.length;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},n=2),Object(l)!==l&&typeof l!="function"&&(l={}),k===n&&(l=this,n--);n<k;n++)if((e=arguments[n])!==null)for(r in e)o=l[r],u=e[r],l!==u&&(f===!0&&u&&((w=Array.isArray(u))||ol(u)===!0)?(w===!0?i=Array.isArray(o)===!0?o:[]:i=ol(o)===!0?o:{},l[r]=pl(f,i,u)):u!==void 0&&(l[r]=u));return l}const Gn=()=>!0;function Jn(e){const r={};return e.forEach(o=>{r[o]=Gn}),r}function lt(){const{emit:e,proxy:r}=Oe(),o=B(null);function u(){o.value.show()}function w(){o.value.hide()}function i(n){e("ok",n),w()}function l(){e("hide")}return Object.assign(r,{show:u,hide:w}),{dialogRef:o,onDialogHide:l,onDialogOK:i,onDialogCancel:w}}const wl=["ok","hide"];lt.emits=wl;lt.emitsObject=Jn(wl);const nt=ut({__name:"DoubleCheckButton",props:{size:{},type:{},to:{},replace:{type:Boolean},href:{},target:{},label:{},icon:{},iconRight:{},outline:{type:Boolean},flat:{type:Boolean},unelevated:{type:Boolean},rounded:{type:Boolean},push:{type:Boolean},square:{type:Boolean},glossy:{type:Boolean},fab:{type:Boolean},fabMini:{type:Boolean},padding:{},color:{},textColor:{},noCaps:{type:Boolean},noWrap:{type:Boolean},dense:{type:Boolean},ripple:{type:Boolean},tabindex:{},align:{},stack:{type:Boolean},stretch:{type:Boolean},loading:{type:[Boolean,null]},disable:{type:Boolean},round:{type:Boolean},percentage:{},darkPercentage:{type:Boolean},onClick:{type:Function},pendingLabel:{},pendingIcon:{},pendingIconRight:{},pendingOutline:{type:Boolean},pendingFlat:{type:Boolean},pendingUnelevated:{type:Boolean},pendingPush:{type:Boolean},pendingGlossy:{type:Boolean},pendingColor:{},pendingTextColor:{},pendingRipple:{type:Boolean}},emits:["confirm","cancel"],setup(e,{emit:r}){const o=r,u=B(!1),w=()=>{u.value&&(u.value=!1,o("cancel"))},i=()=>{u.value?o("confirm"):u.value=!0};return(l,n)=>(te(),he(Se,{size:l.size,type:l.type,label:u.value?l.pendingLabel??l.label:l.label,icon:u.value?l.pendingIcon??l.icon:l.icon,"icon-right":u.value?l.pendingIconRight??l.iconRight:l.iconRight,outline:u.value?l.pendingOutline??l.outline:l.outline,flat:u.value?l.pendingFlat??l.flat:l.flat,unelevated:u.value?l.pendingUnelevated??l.unelevated:l.unelevated,rounded:l.rounded,push:u.value?l.pendingPush??l.push:l.push,square:l.square,glossy:u.value?l.pendingGlossy??l.glossy:l.glossy,fab:l.fab,"fab-mini":l.fabMini,padding:l.padding,color:u.value?l.pendingColor??l.color:l.color,"text-color":u.value?l.pendingTextColor??l.textColor:l.textColor,"no-caps":l.noCaps,"no-wrap":l.noWrap,dense:l.dense,ripple:u.value?l.pendingRipple??l.ripple:l.ripple,tabindex:l.tabindex,align:l.align,stack:l.stack,stretch:l.stretch,loading:l.loading,disable:l.disable,round:l.round,percentage:l.percentage,"dark-percentage":l.darkPercentage,onClick:i,onMouseleave:w},null,8,["size","type","label","icon","icon-right","outline","flat","unelevated","rounded","push","square","glossy","fab","fab-mini","padding","color","text-color","no-caps","no-wrap","dense","ripple","tabindex","align","stack","stretch","loading","disable","round","percentage","dark-percentage"]))}}),Zn={class:"text-h5"},ea={class:"row justify-between"},ta={class:"text-h6"},la={class:"row justify-between"},na={class:"text-h6"},Cl=ut({__name:"SearchDialog",emits:[...lt.emits],setup(e){const{dialogRef:r,onDialogHide:o,onDialogOK:u,onDialogCancel:w}=lt(),{request:i}=tt(),l=B(!1),n=B([]),f=B([""]),k=_t("components.bluetooth.dialogs.SearchDialog"),c=async()=>{l.value=!0,await(await i(f.value,n.value))?.connect()&&u(),l.value=!1},S=(q,T,x)=>{const y=pl({},n.value[q]);y[T]=x?x.toString():"",n.value[q]=y},b=(q,T)=>{const x=T?T.toString():"";f.value[q]=x.toLowerCase()};return(q,T)=>(te(),he(gl,{ref_key:"dialogRef",ref:r,persistent:"",onHide:P(o)},{default:_(()=>[p(Ue,{class:"q-dialog-plugin"},{default:_(()=>[p(Fe,null,{default:_(()=>[G("div",Zn,Y(P(k)("labels.title")),1)]),_:1}),p(Fe,null,{default:_(()=>[p(Ue,null,{default:_(()=>[p(Fe,null,{default:_(()=>[G("div",ea,[G("div",ta,Y(P(k)("labels.requiredServices")),1),p(Se,{label:P(k)("labels.savedServices"),color:"positive",dense:"",disable:"",icon:"mdi-layers-search","no-caps":""},null,8,["label"])])]),_:1}),p(Ze),p(Ct,{separator:""},{default:_(()=>[(te(!0),et(wt,null,pt(f.value,(x,y)=>(te(),he(He,{key:y},{default:_(()=>[p(ue,{side:""},{default:_(()=>[p(nt,{color:"negative",dense:"",flat:"",icon:"mdi-delete","pending-icon":"mdi-delete-forever","pending-push":"",round:"",onConfirm:H=>f.value.splice(y,1)},null,8,["onConfirm"])]),_:2},1024),p(ue,null,{default:_(()=>[p(jt,{autofocus:y===f.value.length-1,dense:"",outlined:"","shadow-text":x?void 0:P(k)("labels.serviceHint"),type:"text","model-value":x,"onUpdate:modelValue":H=>b(y,H)},null,8,["autofocus","shadow-text","model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128)),p(Se,{class:"full-width",color:"primary",icon:"mdi-layers-plus",label:P(k)("labels.addService"),"no-caps":"",unelevated:"",onClick:T[0]||(T[0]=x=>f.value.push(""))},null,8,["label"])]),_:1})]),_:1})]),_:1}),p(Fe,null,{default:_(()=>[p(Ue,null,{default:_(()=>[p(Fe,null,{default:_(()=>[G("div",la,[G("div",na,Y(P(k)("labels.searchFilters")),1),p(Se,{label:P(k)("labels.savedFilters"),color:"positive",dense:"",disable:"",icon:"mdi-filter-cog","no-caps":""},null,8,["label"])])]),_:1}),p(Ze),p(Ct,{separator:""},{default:_(()=>[(te(!0),et(wt,null,pt(n.value,(x,y)=>(te(),he(He,{key:y},{default:_(()=>[p(ue,{side:""},{default:_(()=>[p(nt,{color:"negative",dense:"",flat:"",icon:"mdi-delete","pending-icon":"mdi-delete-forever","pending-push":"",round:"",onConfirm:H=>n.value.splice(y,1)},null,8,["onConfirm"])]),_:2},1024),p(ue,null,{default:_(()=>[p(jt,{label:P(k)("labels.filterNamePrefixHint"),outlined:"",type:"text","model-value":x.namePrefix,"onUpdate:modelValue":H=>S(y,"namePrefix",H)},null,8,["label","model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128)),p(Se,{class:"full-width",color:"accent",icon:"mdi-filter-plus",label:P(k)("labels.addFilter"),"no-caps":"",unelevated:"",onClick:T[1]||(T[1]=x=>n.value.push({}))},null,8,["label"])]),_:1})]),_:1})]),_:1}),p(yn,{align:"right"},{default:_(()=>[p(Se,{color:"primary",disable:!f.value.length||f.value.some(x=>!x),label:P(k)("labels.search"),"no-caps":"",onClick:c},null,8,["disable","label"]),p(Se,{color:"negative",flat:"",label:P(k)("labels.cancel"),"no-caps":"",onClick:P(w)},null,8,["label","onClick"])]),_:1}),p(Wn,{showing:l.value},{default:_(()=>[p(Un,{size:"100px",color:"accent"})]),_:1},8,["showing"])]),_:1})]),_:1},8,["onHide"]))}}),aa={class:"row justify-between"},oa={class:"text-h6 text-grey text-italic"},ia={key:1,class:"column justify-center q-col-gutter-y-md q-col-gutter-md-y-none q-px-md"},ua={class:"row justify-between q-gutter-y-md"},ra={class:"col-12 col-lg-6 row items-center q-gutter-x-sm"},sa={class:"text-body1"},ca={class:"col-12 col-lg-6 row items-center q-gutter-x-sm"},da={class:"text-body1"},fa={class:"row justify-between"},va=ut({__name:"DeviceSelector",setup(e){const{connectedDevices:r,selectedDevice:o}=bl(tt()),{disconnect:u}=tt(),w=B(!1),i=_t("components.bluetooth.DeviceSelector"),l=async()=>{o.value.device&&(w.value=!0,await u(o.value.device.id),o.value.device=void 0,o.value.characteristicId=void 0,w.value=!1)},n=()=>{Sl.create({component:Cl})},f=async()=>{o.value.device&&(w.value=!0,await o.value.device.load(),w.value=!1)},k=async c=>{o.value.device?.id!==c.id&&(o.value.device=c,o.value.characteristicId=void 0),await f()};return(c,S)=>(te(),he(Ue,{class:"q-pt-md q-pt-md-none q-pb-md",bordered:"",flat:""},{default:_(()=>[Object.keys(P(r)).length?(te(),et("div",ia,[G("div",ua,[G("div",ra,[G("div",sa,Y(P(i)("labels.currentDevice")),1),p(al,{class:"col-grow",disable:w.value,options:Object.values(P(r)),"option-label":"label",style:{"min-width":"300px"},"model-value":P(o).device,"onUpdate:modelValue":S[0]||(S[0]=b=>k(b))},{option:_(({itemProps:b,opt:q})=>[p(He,pn(b,{disable:!q.connected}),{default:_(()=>[p(ue,null,{default:_(()=>[p(pe,null,{default:_(()=>[ye(Y(q.label),1)]),_:2},1024),q.name?.length?(te(),he(pe,{key:0,caption:""},{default:_(()=>[ye(Y(q.id),1)]),_:2},1024)):Qt("",!0)]),_:2},1024)]),_:2},1040,["disable"])]),"selected-item":_(({opt:b})=>[p(ue,null,{default:_(()=>[p(pe,null,{default:_(()=>[ye(Y(b.label),1)]),_:2},1024),b.name?.length?(te(),he(pe,{key:0,caption:""},{default:_(()=>[ye(Y(b.id),1)]),_:2},1024)):Qt("",!0)]),_:2},1024)]),_:1},8,["disable","options","model-value"])]),G("div",ca,[G("div",da,Y(P(i)("labels.currentCharacteristics")),1),p(al,{class:"col-grow",disable:w.value,"emit-value":"",options:P(o).device?.writableCharacteristics,"option-label":"uuid","option-value":"uuid",style:{"min-width":"300px"},modelValue:P(o).characteristicId,"onUpdate:modelValue":S[1]||(S[1]=b=>P(o).characteristicId=b)},{option:_(({itemProps:b,opt:q})=>[p(He,wn(Cn(b)),{default:_(()=>[p(ue,null,{default:_(()=>[p(pe,null,{default:_(()=>[ye(Y(q.uuid),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),"selected-item":_(({opt:b})=>[p(ue,null,{default:_(()=>[p(pe,null,{default:_(()=>[ye(Y(b),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["disable","options","modelValue"])])]),G("div",fa,[p(nt,{color:"negative",disable:!P(o).device?.connected,label:P(i)("labels.disconnect"),"no-caps":"",outline:"","pending-label":P(i)("labels.confirm"),onConfirm:l,style:{"white-space":"pre"}},null,8,["disable","label","pending-label"]),p(Se,{color:"primary",disable:!P(o).device?.connected,label:P(i)("labels.refresh"),"no-caps":"",onClick:f},null,8,["disable","label"])])])):(te(),he(Fe,{key:0},{default:_(()=>[G("div",aa,[G("div",oa,Y(P(i)("labels.noDevice")),1),p(Se,{color:"primary",icon:"mdi-link-plus",label:P(i)("labels.connectNewDevice"),"no-caps":"",onClick:n},null,8,["label"])])]),_:1}))]),_:1}))}}),ma={class:"col-grow"},ha={class:"row justify-between q-pa-md"},ga={class:"text-h6"},ba={class:"column full-width full-height",style:{"padding-bottom":"4rem"}},Ia=ut({__name:"BluetoothPage",setup(e){const{recognizedDevices:r,savedMessages:o,connectedDevices:u,recordedMessagesDict:w,selectedDevice:i}=bl(tt()),l=B(),n=h({get:()=>(i.value.device?.id?w.value[i.value.device?.id]:[])??[],set:k=>{i.value.device?.id&&(w.value[i.value.device?.id]=k)}}),f=_t("pages.BluetoothPage");return Object.keys(u.value).length?o.value.length&&Gt.emit("drawer","open","right"):Object.keys(r.value).length?Gt.emit("drawer","open","right"):Sl.create({component:Cl}),me(()=>n.value.length,()=>{console.log(n.value.length),setTimeout(()=>{l.value?.setScrollPercentage("vertical",1)},100)}),(k,c)=>(te(),he(Tn,{class:"column q-pa-sm q-gutter-y-sm"},{default:_(()=>[p(va),p(Ue,{class:"col-grow row",bordered:"",flat:""},{default:_(()=>[G("div",ma,[G("div",ha,[G("div",ga,Y(P(f)("labels.messages")),1),p(nt,{color:"negative",icon:"mdi-delete-sweep",label:P(f)("labels.clearMessages"),"no-caps":"",outline:"","pending-label":P(f)("labels.confirm"),style:{"white-space":"pre"},onConfirm:c[0]||(c[0]=S=>n.value=[])},null,8,["label","pending-label"])]),p(Ze),G("div",ba,[p(P(xn),{ref_key:"scrollArea",ref:l,class:"full-height"},{default:_(()=>[yt(p(Ct,{separator:""},{default:_(()=>[(te(!0),et(wt,null,pt(n.value,(S,b)=>(te(),he(He,{key:b,class:kn({"bg-green-1":S.isSent,"bg-blue-1":!S.isSent}),dense:""},{default:_(()=>[p(ue,{side:""},{default:_(()=>[p(Ke,{color:S.isSent?"green":"blue",name:S.isSent?"mdi-call-made":"mdi-call-received"},null,8,["color","name"])]),_:2},1024),p(ue,{side:""},{default:_(()=>[p(pe,{caption:""},{default:_(()=>[ye(Y(S.time.toFormat("HH:mm:ss.SSS")),1)]),_:2},1024)]),_:2},1024),p(ue,null,{default:_(()=>[p(pe,{style:{"white-space":"pre"}},{default:_(()=>[ye(Y(S.message),1)]),_:2},1024)]),_:2},1024),p(In,null,{default:_(()=>[ye(Y(P(f)("labels.characteristicId"))+Y(S.id),1)]),_:2},1024)]),_:2},1032,["class"]))),128)),p(Ze)]),_:1},512),[[zn,n.value.length]])]),_:1},512)])])]),_:1})]),_:1}))}});export{Ia as default};
